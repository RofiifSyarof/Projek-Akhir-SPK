<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABC Foundation</title>
    <link rel="stylesheet" href="styletest.css">
</head>
<body>
    <div class="header">
        <h3>Input Data</h3>
    </div>

    <div class="navbar">
        <div class="navbar-header">
            <div class="navbar-header-logo">
                <img src="Logo1.png" height="40%" width="40%">
            </div>
            <h2>ABC Foundation</h2>
        </div>
        <form action="homepagefinal.html">
			<button class="navbar-menu-btn" name="Gohome">Home</button></a>
		</form>
        <form action="inputprocessfinal.html">
			<button class="navbar-menu-btn" name="Goinput">Input and Process Data</button></a>
		</form>
    </div>

    <div class="main-body-input">

<!-- FORM APPLICANTS --------------------------------------------------------------------- -->

        <div class="main-formApp">
            <div class="bluebox-formApp">
                <div class="bluebox-header">
                    <h3>Input Applicant's Data Assessment</h3>
                </div>
                
                <div class="bluebox-body">
                    <form id="applicantForm">
                        <table>
                            <tbody>
                                <tr>
                                    <td><label class="form-label">Name</label></td>
                                    <td><input type="text" class="form-field" name="name" placeholder="Applicant Name" pattern="[A-Za-z ]+" required></td>
                                </tr>
                                
                                <tr>
                                    <td><label class="form-label">Education</label></td>
                                    <td><input type="number" class="form-field" name="education" placeholder="Applicant Education Score" required></td>
                                </tr>
                
                                <tr>
                                    <td><label class="form-label">Work Experience</label></td>
                                    <td><input type="number" class="form-field" name="workExperience" placeholder="Applicant Work Experience Score" required></td>
                                </tr>
                
                                <tr>
                                    <td><label class="form-label">Technical Skills</label></td>
                                    <td><input type="number" class="form-field" name="technicalSkills" placeholder="Applicant Technical Skills Score" required></td>
                                </tr>
                
                                <tr>
                                    <td><label class="form-label">Interpersonal Skills</label></td>
                                    <td><input type="number" class="form-field" name="interpersonalSkills" placeholder="Applicant Interpersonal Skills Score" required></td>
                                </tr>
                                <tr>
                                    <td><label class="form-label">Analytical Skills</label></td>
                                    <td><input type="number" class="form-field" name="analyticalSkills" placeholder="Applicant Analytical Skills Score" required></td>
                                </tr>
                                <tr>
                                    <td><label class="form-label">Discipline</label></td>
                                    <td><input type="number" class="form-field" name="discipline" placeholder="Applicant Discipline Score" required></td>
                                </tr>
                            </tbody>
                        </table>
                        <!-- Tombol Submit -->
                        <button type="submit" class="SubmitBtn">Submit</button>
                    </form>    
                </div>
            </div>
        </div>

<!-- FORM CRITERIA WEIGHT --------------------------------------------------------------------- -->

    <div class="main-formCrit">
        <div class="bluebox-formCrit">
            <div class="bluebox-header">
                <h3>Input Criteria Weight</h3>
            </div>

            <div class="bluebox-body">
                <form id="criteriaForm">
                    <table>
                        <tbody>
                            <tr>
                                <td><label class="form-label">Education</label></td>
                                <td><input type="number" class="form-field" name="education" placeholder="Enter Weight" required></td>
                            </tr>
            
                            <tr>
                                <td><label class="form-label">Work Experience</label></td>
                                <td><input type="number" class="form-field" name="workExperience" placeholder="Enter Weight" required></td>
                            </tr>
            
                            <tr>
                                <td><label class="form-label">Technical Skills</label></td>
                                <td><input type="number" class="form-field" name="technicalSkills" placeholder="Enter Weight" required></td>
                            </tr>
            
                            <tr>
                                <td><label class="form-label">Interpersonal Skills</label></td>
                                <td><input type="number" class="form-field" name="interpersonalSkills" placeholder="Enter Weight" required></td>
                            </tr>
                            <tr>
                                <td><label class="form-label">Analytical Skills</label></td>
                                <td><input type="number" class="form-field" name="analyticalSkills" placeholder="Enter Weight" required></td>
                            </tr>
                            <tr>
                                <td><label class="form-label">Discipline</label></td>
                                <td><input type="number" class="form-field" name="discipline" placeholder="Enter Weight" required></td>
                            </tr>
                        </tbody>
                    </table>
                    <!-- Tombol Submit -->
                    <button type="submit" class="SubmitBtn">Submit</button>
                </form>    
            </div>
        </div>
    </div>

<!-- APPLICANT LIST TABLE ---------------------------------------------------------------- -->
    <div class="main-content">
        <div class="bluebox">
            <div class="bluebox-header">
                <h3>List of Applicants</h3>
            </div>
            <div class="bluebox-body">
                <table id="applicantList" cellpadding="9" cellspacing="1" width="100%" align="center">
                    <thead class="table-th">
                        <tr>
                            <th>Menu</th>
                            <th>Applicant Name</th>
                            <th>ED</th>
                            <th>WE</th>
                            <th>TS</th>
                            <th>IS</th>
                            <th>AS</th>
                            <th>DS</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    
                    <tbody class="table-tr" id="applicantList">
                        <!-- Rows will be added here -->
                    </tbody>
                </table>
            </div>
        </div>

<!-- CRITERIA WEIGHT Wj CALCULTAION TABLE --------------------------------------------------------------- -->
        <div class="bluebox">
            <div class="bluebox-header">
                <h3>Criteria Weight Information</h3>
            </div>
            <div class="bluebox-body">
                <table id="tableWj" cellpadding="9" cellspacing="1" width="100%" align="center">
                    <thead class="table-th">
                        <tr>
                            <th>Criteria</th>
                            <th>Criteria Weight</th>
                            <th>Wj</th>
                            <th>Cost/Benefit</th>
                        </tr>
                    </thead>
                    
                    <tbody>
                        <tr class="table-td">
                            <td>Education (ED)</td>
                            <td>

                            </td>
                            <td>
                                <!-- Wj goes here -->
                            </td>
                            <td>Benefit</td>
                        </tr>
                        <tr class="table-td">
                            <td>Work Experience (WE)</td>
                            <td>

                            </td>
                            <td>
                                <!-- Wj goes here -->
                            </td>
                            <td>Benefit</td>
                        </tr>
                        <tr class="table-td">
                            <td>Technical Skills (TS)</td>
                            <td>

                            </td>
                            <td>
                                <!-- Wj goes here -->
                            </td>
                            <td>Benefit</td>
                        </tr>
                        <tr class="table-td">
                            <td>Interpersonal Skills (IS)</td>
                            <td>

                            </td>
                            <td>
                                <!-- Wj goes here -->
                            </td>
                            <td>Benefit</td>
                        </tr>
                        <tr class="table-td">
                            <td>Analytical Skills (AS)</td>
                            <td>

                            </td>
                            <td>
                                <!-- Wj goes here -->
                            </td>
                            <td>Benefit</td>
                        </tr>
                        <tr class="table-td">
                            <td>Discipline (DS)</td>
                            <td>

                            </td>
                            <td>
                                <!-- Wj goes here -->
                            </td>
                            <td>Benefit</td>
                        </tr>
                    </tbody>
                </table>
                <div class="totalweightwj">
                    <h4>Total Criteria Weight : <!-- Total Criteria Weight Goes Here --> </h4>
                    <h4>Total Wj : <!-- Total Wj Goes Here --> </span></h4>
                </div>
            </div>
        </div>

<!-- SI VECTOR CALCULATION TABLE --------------------------------------------------------- -->
        <div class="bluebox">
            <div class="bluebox-header">
                <h3>Si Vector and Vi Score Calculation</h3>
            </div>
            <div class="bluebox-body">
                <table id="tableSiVi" cellpadding="9" cellspacing="1" width="100%" align="center">
                    <thead class="table-th">
                        <tr>
                            <th>Applicant Name</th>
                            <th>ED</th>
                            <th>WE</th>
                            <th>TS</th>
                            <th>IS</th>
                            <th>AS</th>
                            <th>DS</th>
                            <th>Si Vector</th>
                            <th>Vi</th>
                            <th>Ranking</th>
                        </tr>
                    </thead>
                    
                    <tbody class="table-td" id="siTable">
                        <!-- Rows will be added here -->
                    </tbody>
                </table>
            </div>
        </div>

<!-- CONCLUSION -------------------------------------------------------------------------- -->
        <div class="bluebox" id="conclude">
            <div class="bluebox-header">
                <h3>Conclussion</h3>
            </div>
            <div class="bluebox-body" id="paragraph">
                <!-- Conclusion will be added here -->
            </div>
        </div>
    </div>
</body>
</html>

<!-- JAVASCRIPT/BACKEND -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const applicantForm = document.getElementById('applicantForm');
        const applicantList = document.getElementById('applicantList');
        const criteriaForm = document.getElementById('criteriaForm');
        const tableWj = document.getElementById('tableWj');
        
// applicationForm
        applicantForm.addEventListener('submit', function (event) {
            event.preventDefault();
            
            const name = applicantForm.name.value;
            const education = parseFloat(applicantForm.education.value);
            const workExperience = parseFloat(applicantForm.workExperience.value);
            const technicalSkills = parseFloat(applicantForm.technicalSkills.value);
            const interpersonalSkills = parseFloat(applicantForm.interpersonalSkills.value);
            const analyticalSkills = parseFloat(applicantForm.analyticalSkills.value);
            const discipline = parseFloat(applicantForm.discipline.value);

            const total = education + workExperience + technicalSkills + interpersonalSkills + analyticalSkills + discipline;

            const row = document.createElement('tbody');

            row.innerHTML = `
                <tr class="table-td">
                    <td><button class="deleteBtn">Delete</button></td>
                    <td>${name}</td>
                    <td>${education}</td>
                    <td>${workExperience}</td>
                    <td>${technicalSkills}</td>
                    <td>${interpersonalSkills}</td>
                    <td>${analyticalSkills}</td>
                    <td>${discipline}</td>
                    <td>${total}</td>
                </tr>
            `;

            applicantList.appendChild(row);

            applicantForm.reset();

            row.querySelector('button').addEventListener('click', function () {
                applicantList.removeChild(row);
            });
        });

// criteriaForm

        criteriaForm.addEventListener('submit', function (event) {
            event.preventDefault();

            // Get the input values from the form
            const education = parseFloat(criteriaForm.education.value);
            const workExperience = parseFloat(criteriaForm.workExperience.value);
            const technicalSkills = parseFloat(criteriaForm.technicalSkills.value);
            const interpersonalSkills = parseFloat(criteriaForm.interpersonalSkills.value);
            const analyticalSkills = parseFloat(criteriaForm.analyticalSkills.value);
            const discipline = parseFloat(criteriaForm.discipline.value);

            // Calculate total weight
            const totalWeight = education + workExperience + technicalSkills + interpersonalSkills + analyticalSkills + discipline;

            // Calculate Wj for each criteria
            const educationWj = education / totalWeight;
            const workExperienceWj = workExperience / totalWeight;
            const technicalSkillsWj = technicalSkills / totalWeight;
            const interpersonalSkillsWj = interpersonalSkills / totalWeight;
            const analyticalSkillsWj = analyticalSkills / totalWeight;
            const disciplineWj = discipline / totalWeight;

            // Insert the weights and Wj values into the table
            const rows = tableWj.querySelectorAll('tbody tr');

            rows[0].children[1].innerText = education;
            rows[0].children[2].innerText = educationWj.toFixed(2);

            rows[1].children[1].innerText = workExperience;
            rows[1].children[2].innerText = workExperienceWj.toFixed(2);

            rows[2].children[1].innerText = technicalSkills;
            rows[2].children[2].innerText = technicalSkillsWj.toFixed(2);

            rows[3].children[1].innerText = interpersonalSkills;
            rows[3].children[2].innerText = interpersonalSkillsWj.toFixed(2);

            rows[4].children[1].innerText = analyticalSkills;
            rows[4].children[2].innerText = analyticalSkillsWj.toFixed(2);

            rows[5].children[1].innerText = discipline;
            rows[5].children[2].innerText = disciplineWj.toFixed(2);

            // Display total weight and total Wj
            const totalWeightDisplay = document.querySelector('.totalweightwj h4:first-child');
            const totalWjDisplay = document.querySelector('.totalweightwj h4:last-child');

            totalWeightDisplay.innerText = `Total Criteria Weight : ${totalWeight}`;
            totalWjDisplay.innerText = `Total Wj : ${(educationWj + workExperienceWj + technicalSkillsWj + interpersonalSkillsWj + analyticalSkillsWj + disciplineWj).toFixed(2)}`;
        });
    });

// Si Vector and Vi Score Calculation 
        document.addEventListener('DOMContentLoaded', function () {
            const applicantList = document.getElementById('applicantList');
            const tableWj = document.getElementById('tableWj');
            const siTable = document.getElementById('siTable');
    
            const calculateSiVi = function () {
                const rows = applicantList.querySelectorAll('tbody tr');
                const wjValues = tableWj.querySelectorAll('tbody tr td:nth-child(3)');
    
                const applicants = [];
    
                rows.forEach(function (row) {
                    const cells = row.querySelectorAll('td');
                    const name = cells[1].innerText;
                    const education = parseFloat(cells[2].innerText);
                    const workExperience = parseFloat(cells[3].innerText);
                    const technicalSkills = parseFloat(cells[4].innerText);
                    const interpersonalSkills = parseFloat(cells[5].innerText);
                    const analyticalSkills = parseFloat(cells[6].innerText);
                    const discipline = parseFloat(cells[7].innerText);
    
                    const educationWj = parseFloat(wjValues[0].innerText);
                    const workExperienceWj = parseFloat(wjValues[1].innerText);
                    const technicalSkillsWj = parseFloat(wjValues[2].innerText);
                    const interpersonalSkillsWj = parseFloat(wjValues[3].innerText);
                    const analyticalSkillsWj = parseFloat(wjValues[4].innerText);
                    const disciplineWj = parseFloat(wjValues[5].innerText);
    
                    const si = (education ** educationWj) * (workExperience ** workExperienceWj) * (technicalSkills ** technicalSkillsWj) * (interpersonalSkills ** interpersonalSkillsWj) * (analyticalSkills ** analyticalSkillsWj) * (discipline ** disciplineWj);
                    const vi = si / 6;

                    applicants.push({
                        name: name,
                        education: education ** educationWj,
                        workExperience: workExperience ** workExperienceWj,
                        technicalSkills: technicalSkills ** technicalSkillsWj,
                        interpersonalSkills: interpersonalSkills ** interpersonalSkillsWj,
                        analyticalSkills: analyticalSkills ** analyticalSkillsWj,
                        discipline: discipline ** disciplineWj,
                        si: si,
                        vi: vi
                    });
                });
    
                // Sort the applicants based on their Vi score
                applicants.sort(function (a, b) {
                    return b.vi - a.vi;
                });
    
                // Display the applicants in the table
                siTable.innerHTML = '';
    
                applicants.forEach(function (applicant, index) {
                    const row = document.createElement('tr');
    
                    row.innerHTML = `
                        <td>${applicant.name}</td>
                        <td>${applicant.education.toFixed(2)}</td>
                        <td>${applicant.workExperience.toFixed(2)}</td>
                        <td>${applicant.technicalSkills.toFixed(2)}</td>
                        <td>${applicant.interpersonalSkills.toFixed(2)}</td>
                        <td>${applicant.analyticalSkills.toFixed(2)}</td>
                        <td>${applicant.discipline.toFixed(2)}</td>
                        <td>${applicant.si.toFixed(2)}</td>
                        <td>${applicant.vi.toFixed(2)}</td>
                        <td>${index + 1}</td>
                    `;

                    siTable.appendChild(row);
                });
            };

            document.getElementById('criteriaForm').addEventListener('submit', calculateSiVi);
            document.getElementById('applicantForm').addEventListener('submit', calculateSiVi);
        });

// Conclusion
    
        document.addEventListener('DOMContentLoaded', function () {
            const conclude = document.getElementById('conclude');
            const paragraph = document.getElementById('paragraph');
            const siTable = document.getElementById('siTable');
    
            const displayConclusion = function () {
                const rows = siTable.querySelectorAll('tbody tr');
                const bestApplicant = rows[0].querySelectorAll('td');
    
                paragraph.innerHTML = `
                    <h4>According to the calculations done by our sistem above, the applicant who will become new employees at ABC Foundation are :</h4>
                        <br>
                    <h4>${bestApplicant[0].innerText} as the ${bestApplicant[9].innerText} rank with a total Vi score of ${bestApplicant[8].innerText}!</h4>
                    <br>
                    <h4>Congratulations to the applicant above for they have been accepted as new employees for ABC Foundation.</h4>
                `;
            };
    
            document.getElementById('criteriaForm').addEventListener('submit', displayConclusion);
            document.getElementById('applicantForm').addEventListener('submit', displayConclusion);
        });

//Duplicate name checker

</script>
